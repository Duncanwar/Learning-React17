"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getParamsFromUrl = exports.getLocation = void 0;
const is_1 = require("../is");
function getLocation(req) {
    return typeof window !== 'undefined' ? window.location : { pathname: req && req.url };
}
exports.getLocation = getLocation;
function getParamsFromUrl(mapParams, baseUrl) {
    let pathname = '';
    if ((0, is_1.isBrowser)() && !baseUrl) {
        pathname = window.location.pathname;
    }
    else if (baseUrl) {
        pathname = baseUrl.split('?')[0]; // eslint-disable-line prefer-destructuring
        if (pathname.substr(-1) === '/') {
            pathname = pathname.slice(0, -1);
        }
    }
    const chunks = pathname.split('/').filter(v => v);
    const params = {};
    mapParams.forEach((param, i) => {
        params[param] = chunks[i] || null;
    });
    return params;
}
exports.getParamsFromUrl = getParamsFromUrl;
